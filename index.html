<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SKAND Skalica — Analýza cestovných poriadkov</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: -apple-system, 'Segoe UI', Roboto, sans-serif; background: #0f1117; color: #e1e4e8; }
  .header { background: linear-gradient(135deg, #1a1f35 0%, #0d1117 100%); padding: 32px 40px; border-bottom: 1px solid #21262d; }
  .header h1 { font-size: 26px; font-weight: 700; color: #fff; }
  .header .sub { color: #8b949e; margin-top: 6px; font-size: 14px; }
  .header .badge { display: inline-block; background: #1f6feb33; color: #58a6ff; padding: 3px 10px; border-radius: 6px; font-size: 12px; margin-top: 10px; }
  .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 16px; padding: 24px 40px; }
  .card { background: #161b22; border: 1px solid #21262d; border-radius: 12px; padding: 20px; }
  .card .label { color: #8b949e; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }
  .card .value { font-size: 36px; font-weight: 700; margin-top: 4px; }
  .card .detail { color: #8b949e; font-size: 13px; margin-top: 4px; }
  .accent-blue { color: #58a6ff; }
  .accent-green { color: #3fb950; }
  .accent-orange { color: #d29922; }
  .section { padding: 24px 40px; }
  .section h2 { font-size: 20px; margin-bottom: 16px; color: #fff; }
  #map { height: 520px; border-radius: 12px; border: 1px solid #21262d; }
  table { width: 100%; border-collapse: collapse; background: #161b22; border-radius: 12px; overflow: hidden; border: 1px solid #21262d; }
  th, td { padding: 10px 16px; text-align: left; border-bottom: 1px solid #21262d; font-size: 14px; }
  th { background: #1c2129; color: #8b949e; font-weight: 600; font-size: 12px; text-transform: uppercase; letter-spacing: 0.5px; }
  td { color: #c9d1d9; }
  .bar-chart { display: flex; align-items: end; gap: 4px; height: 140px; padding: 8px 0; }
  .bar-chart .bar { background: #58a6ff; border-radius: 3px 3px 0 0; min-width: 28px; position: relative; transition: background 0.2s; cursor: default; }
  .bar-chart .bar:hover { background: #79c0ff; }
  .bar-chart .bar .bar-label { position: absolute; top: -18px; left: 50%; transform: translateX(-50%); font-size: 11px; color: #8b949e; white-space: nowrap; }
  .bar-chart .bar .bar-value { position: absolute; top: -18px; left: 50%; transform: translateX(-50%); font-size: 11px; color: #c9d1d9; font-weight: 600; display: none; }
  .bar-chart .bar:hover .bar-value { display: block; }
  .bar-chart .bar:hover .bar-label { display: none; }
  .route-legend { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; }
  .route-legend .chip { padding: 4px 10px; border-radius: 6px; font-size: 12px; font-weight: 600; color: #fff; cursor: pointer; opacity: 0.9; transition: opacity 0.2s; }
  .route-legend .chip:hover { opacity: 1; }
  .two-col { display: grid; grid-template-columns: 1fr 1fr; gap: 24px; }
  @media (max-width: 900px) { .two-col { grid-template-columns: 1fr; } .grid { grid-template-columns: repeat(2, 1fr); } }
  .footer { padding: 24px 40px; color: #484f58; font-size: 12px; border-top: 1px solid #21262d; margin-top: 24px; }
  .footer a { color: #58a6ff; text-decoration: none; }
</style>
</head>
<body>

<div class="header">
  <h1>SKAND Skalica — Analýza cestovných poriadkov</h1>
  <div class="sub">GTFS feed 16.2.2026 — 17.4.2026 &middot; Dopravca: SKAND Skalica, spol. s r.o.</div>
  <div class="badge">Vygenerované automaticky z GTFS dát pomocou Claude Code</div>
</div>

<!-- KPI Cards -->
<div class="grid">
  <div class="card">
    <div class="label">Linky</div>
    <div class="value accent-blue">21</div>
    <div class="detail">41 smerov (tam/sp&auml;&tcaron;)</div>
  </div>
  <div class="card">
    <div class="label">Spojov / prac. de&ncaron;</div>
    <div class="value accent-blue">253</div>
    <div class="detail">So: 70 &middot; Ne: 55</div>
  </div>
  <div class="card">
    <div class="label">Zast&aacute;vok</div>
    <div class="value accent-blue">172</div>
    <div class="detail">311 n&aacute;stupi&scaron;&tcaron;</div>
  </div>
  <div class="card">
    <div class="label">Prev&aacute;dzka</div>
    <div class="value accent-green">4:20</div>
    <div class="detail">prv&yacute; odchod &middot; posledn&yacute; 23:15</div>
  </div>
  <div class="card">
    <div class="label">Typov dn&iacute;</div>
    <div class="value accent-orange">9</div>
    <div class="detail">r&ocirc;zne servisn&eacute; vzory</div>
  </div>
  <div class="card">
    <div class="label">Prestupn&eacute; uzly</div>
    <div class="value accent-orange">10</div>
    <div class="detail">stanice s 3+ linkami</div>
  </div>
</div>

<!-- Map -->
<div class="section">
  <h2>Mapa siete</h2>
  <div class="route-legend" id="routeLegend"></div>
  <div id="map"></div>
</div>

<!-- Hourly departures -->
<div class="section">
  <h2>Odchody spojov po hodin&aacute;ch (pracovn&yacute; de&ncaron;)</h2>
  <div class="bar-chart" id="hourlyChart"></div>
</div>

<!-- Two column: Routes + Hubs -->
<div class="section">
  <div class="two-col">
    <div>
      <h2>Linky</h2>
      <table>
        <tr><th>Linka</th><th>Trasa</th><th>Spojov</th><th>Prv&yacute;</th><th>Posledn&yacute;</th><th>Priem. trvanie</th></tr>
        <tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#3cb44b;margin-right:8px"></span>206100</td><td>ZOC MAX - Veľké Trávniky - ZOC MAX</td><td>27</td><td>6:00</td><td>21:37</td><td>24 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#800000;margin-right:8px"></span>206413</td><td>Skalica-Kopčany</td><td>25</td><td>5:00</td><td>23:10</td><td>29 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#911eb4;margin-right:8px"></span>206403</td><td>Skalica-Radošovce-Chropov</td><td>24</td><td>4:45</td><td>23:00</td><td>39 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#42d4f4;margin-right:8px"></span>206404</td><td>Skalica-Prietržka-Senica</td><td>22</td><td>4:45</td><td>20:25</td><td>46 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#e6194b;margin-right:8px"></span>205417</td><td>Šaštín-Stráže-Gbely-Skalica</td><td>19</td><td>4:30</td><td>23:10</td><td>51 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#f58231;margin-right:8px"></span>206402</td><td>Skalica-Mokrý Háj</td><td>17</td><td>5:05</td><td>19:20</td><td>14 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#469990;margin-right:8px"></span>206408</td><td>Skalica-Šaštín-Stráže-Borský Mikuláš</td><td>17</td><td>4:30</td><td>23:15</td><td>56 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#dcbeff;margin-right:8px"></span>206410</td><td>Skalica-Holíč-Gbely</td><td>14</td><td>4:20</td><td>18:25</td><td>40 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#aaffc3;margin-right:8px"></span>206414</td><td>Skalica-Holíč</td><td>13</td><td>5:20</td><td>16:50</td><td>20 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#9A6324;margin-right:8px"></span>206412</td><td>Skalica-Brodské-Kúty</td><td>12</td><td>4:40</td><td>23:12</td><td>55 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#fffac8;margin-right:8px"></span>206420</td><td>Skalica-Holíč-Senica</td><td>10</td><td>5:45</td><td>22:55</td><td>48 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#f032e6;margin-right:8px"></span>206405</td><td>Skalica-Unín</td><td>9</td><td>4:25</td><td>19:20</td><td>36 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#bfef45;margin-right:8px"></span>206406</td><td>Skalica-Štefanov</td><td>8</td><td>7:30</td><td>16:50</td><td>50 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#fabed4;margin-right:8px"></span>206407</td><td>Skalica-Štefanov-Senica</td><td>7</td><td>4:30</td><td>17:30</td><td>64 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#4363d8;margin-right:8px"></span>206150</td><td>Priemyselná zóna - Dr.Clementisa - Jednoradová - Priemyselná zóna</td><td>6</td><td>5:20</td><td>22:35</td><td>15 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#000075;margin-right:8px"></span>206417</td><td>Skalica-Holíč-Senica-Myjava-Stará Turá</td><td>6</td><td>4:55</td><td>16:55</td><td>85 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#ffd8b1;margin-right:8px"></span>206421</td><td>Skalica-Šaštín-Stráže-Borský Mikuláš-Kúty</td><td>6</td><td>4:55</td><td>17:20</td><td>74 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#a9a9a9;margin-right:8px"></span>206418</td><td>Skalica-Holíč-Senica-Trnava</td><td>4</td><td>5:50</td><td>17:55</td><td>102 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#e6beff;margin-right:8px"></span>206419</td><td>Kopčany-Holíč-Senica</td><td>4</td><td>6:45</td><td>17:38</td><td>42 min</td></tr><tr><td><span style="display:inline-block;width:10px;height:10px;border-radius:50%;background:#808000;margin-right:8px"></span>206416</td><td>Skalica-Mokrý Háj-Senica</td><td>3</td><td>6:55</td><td>17:05</td><td>37 min</td></tr>
      </table>
    </div>
    <div>
      <h2>Prestupn&eacute; uzly</h2>
      <table>
        <tr><th>Stanica</th><th>Liniek</th><th>Zastaven&iacute;/de&ncaron;</th></tr>
        <tr><td>Skalica,,žel.st.</td><td>17</td><td>206</td></tr><tr><td>Skalica,,Mallého</td><td>17</td><td>98</td></tr><tr><td>Skalica,AS</td><td>16</td><td>99</td></tr><tr><td>Skalica,,Daňový úrad</td><td>15</td><td>180</td></tr><tr><td>Holíč,,Lúčky</td><td>13</td><td>65</td></tr><tr><td>Vrádište,,rázc.</td><td>13</td><td>112</td></tr><tr><td>Holíč,,Hollého</td><td>13</td><td>133</td></tr><tr><td>Holíč,,Sasinkova</td><td>13</td><td>69</td></tr><tr><td>Holíč,,MsÚ</td><td>11</td><td>123</td></tr><tr><td>Skalica,Schaeffler</td><td>9</td><td>36</td></tr>
      </table>
      <h2 style="margin-top:24px">Typy dn&iacute;</h2>
      <table>
        <tr><th>De&ncaron;</th><th>Spojov</th><th>Po&ccaron;et dn&iacute;</th></tr>
        <tr><td>Monday</td><td>252</td><td>27</td></tr><tr><td>Wednesday</td><td>253</td><td>9</td></tr><tr><td>Saturday</td><td>70</td><td>7</td></tr><tr><td>Sunday</td><td>55</td><td>7</td></tr><tr><td>Monday</td><td>229</td><td>5</td></tr>
      </table>
    </div>
  </div>
</div>

<div class="footer">
  Zdroj d&aacute;t: GTFS export SKAND Skalica (Transdata) &middot;
  Anal&yacute;za: <a href="#">Claude Code</a> &middot;
  Len verejn&eacute; &uacute;daje z cestn&yacute;ch poriadkov
</div>

<script>
const mapStations = [{"name": "Skalica,,žel.st.", "lat": 48.8500215, "lon": 17.2189165, "freq": 206, "radius": 15}, {"name": "Skalica,AS", "lat": 48.84590514285714, "lon": 17.223672142857144, "freq": 99, "radius": 15}, {"name": "Skalica,,Daňový úrad", "lat": 48.8401615, "lon": 17.2162975, "freq": 180, "radius": 15}, {"name": "Vrádište,,rázc.", "lat": 48.828346999999994, "lon": 17.189487999999997, "freq": 112, "radius": 15}, {"name": "Holíč,,Hollého", "lat": 48.8205, "lon": 17.1590195, "freq": 133, "radius": 15}, {"name": "Holíč,,Sasinkova", "lat": 48.813809, "lon": 17.15966, "freq": 69, "radius": 13.8}, {"name": "Holíč,,MsÚ", "lat": 48.8066795, "lon": 17.1622885, "freq": 123, "radius": 15}, {"name": "Holíč,,Kopčianska ul.", "lat": 48.80026, "lon": 17.155188, "freq": 49, "radius": 9.8}, {"name": "Kopčany,,Kollárova", "lat": 48.789761, "lon": 17.122388, "freq": 53, "radius": 10.6}, {"name": "Kopčany,,kaplnka", "lat": 48.7831955, "lon": 17.112018499999998, "freq": 26, "radius": 5.2}, {"name": "Kopčany,,štrkovisko", "lat": 48.769557, "lon": 17.090663, "freq": 17, "radius": 4}, {"name": "Gbely,,rázc.", "lat": 48.729085999999995, "lon": 17.049498999999997, "freq": 14, "radius": 4}, {"name": "Gbely,,žel.st.", "lat": 48.723327, "lon": 17.091333, "freq": 30, "radius": 6.0}, {"name": "Gbely,,kolónia", "lat": 48.720854, "lon": 17.1055265, "freq": 31, "radius": 6.2}, {"name": "Gbely,Dom kultúry", "lat": 48.718279499999994, "lon": 17.1143, "freq": 31, "radius": 6.2}, {"name": "Gbely,,nám.", "lat": 48.718805, "lon": 17.119228999999997, "freq": 33, "radius": 6.6}, {"name": "Gbely,,kostol", "lat": 48.717486, "lon": 17.1220115, "freq": 33, "radius": 6.6}, {"name": "Gbely,,cintorín", "lat": 48.70947, "lon": 17.122187, "freq": 19, "radius": 4}, {"name": "Smolinské,ZŠ", "lat": 48.678545, "lon": 17.131071, "freq": 19, "radius": 4}, {"name": "Smolinské,,OcÚ", "lat": 48.675155, "lon": 17.129818, "freq": 19, "radius": 4}, {"name": "Smolinské,kostol", "lat": 48.672306, "lon": 17.1273625, "freq": 19, "radius": 4}, {"name": "Šaštín-Stráže,,J.Donovala", "lat": 48.65053, "lon": 17.1292105, "freq": 19, "radius": 4}, {"name": "Šaštín-Stráže,Smolinské rázc.", "lat": 48.648265, "lon": 17.13528, "freq": 19, "radius": 4}, {"name": "Šaštín-Stráže, zdrav.stredisko", "lat": 48.6475125, "lon": 17.1417985, "freq": 19, "radius": 4}, {"name": "Šaštín-Stráže,,most", "lat": 48.6406065, "lon": 17.1435195, "freq": 22, "radius": 4.4}, {"name": "Šaštín-Stráže,pošta", "lat": 48.637985, "lon": 17.1449805, "freq": 34, "radius": 6.8}, {"name": "Šaštín-Stráže,,nám.", "lat": 48.636970000000005, "lon": 17.153752500000003, "freq": 34, "radius": 6.8}, {"name": "Skalica,Schaeffler", "lat": 48.849708, "lon": 17.211649, "freq": 36, "radius": 7.2}, {"name": "Holíč,,Lúčky", "lat": 48.815505, "lon": 17.15588, "freq": 65, "radius": 13.0}, {"name": "Skalica,,Mallého", "lat": 48.84326, "lon": 17.22265, "freq": 98, "radius": 15}, {"name": "Z.O.C. MAX", "lat": 48.839935, "lon": 17.21797, "freq": 53, "radius": 10.6}, {"name": "Dr. Clementisa", "lat": 48.840323, "lon": 17.221735, "freq": 33, "radius": 6.6}, {"name": "Vajanského", "lat": 48.83735, "lon": 17.227119, "freq": 33, "radius": 6.6}, {"name": "Pod hájkom", "lat": 48.838942, "lon": 17.230667, "freq": 33, "radius": 6.6}, {"name": "Duklianska", "lat": 48.83727, "lon": 17.23634, "freq": 27, "radius": 5.4}, {"name": "Vinohradnícka", "lat": 48.841797, "lon": 17.238133, "freq": 27, "radius": 5.4}, {"name": "Jednoradová", "lat": 48.845079, "lon": 17.235045, "freq": 33, "radius": 6.6}, {"name": "Veľké Trávniky", "lat": 48.848074, "lon": 17.23957, "freq": 27, "radius": 5.4}, {"name": "Veterná", "lat": 48.85014, "lon": 17.238353, "freq": 27, "radius": 5.4}, {"name": "Široká", "lat": 48.850834, "lon": 17.232594, "freq": 27, "radius": 5.4}, {"name": "ZŠ Strážnícka", "lat": 48.847654, "lon": 17.23259, "freq": 27, "radius": 5.4}, {"name": "Vally", "lat": 48.849315, "lon": 17.229125, "freq": 33, "radius": 6.6}, {"name": "Nádražná", "lat": 48.848308, "lon": 17.22366, "freq": 23, "radius": 4.6}, {"name": "Žel. Stanica", "lat": 48.850035, "lon": 17.218965, "freq": 23, "radius": 4.6}, {"name": "Rázcestie", "lat": 48.845401, "lon": 17.224536, "freq": 27, "radius": 5.4}, {"name": "Penzión", "lat": 48.835559, "lon": 17.229317, "freq": 4, "radius": 4}, {"name": "Pod Kalváriou", "lat": 48.847971, "lon": 17.223548, "freq": 4, "radius": 4}, {"name": "Priemyselná zóna", "lat": 48.849972, "lon": 17.211939, "freq": 6, "radius": 4}, {"name": "Mokrý Háj,kostol", "lat": 48.81199, "lon": 17.245497999999998, "freq": 20, "radius": 4}, {"name": "Skalica,,Záhradky", "lat": 48.829391, "lon": 17.2460675, "freq": 20, "radius": 4}, {"name": "Skalica,pod Hájkom", "lat": 48.838825, "lon": 17.23068, "freq": 20, "radius": 4}, {"name": "Skalica,,Vajanského", "lat": 48.8374525, "lon": 17.2271475, "freq": 20, "radius": 4}, {"name": "Skalica,dr.Clementisa", "lat": 48.8404575, "lon": 17.221449999999997, "freq": 17, "radius": 4}, {"name": "Skalica,nem.", "lat": 48.8439405, "lon": 17.226152, "freq": 5, "radius": 4}, {"name": "Skalica,,ZŠ Strážnická", "lat": 48.8477215, "lon": 17.2325405, "freq": 5, "radius": 4}, {"name": "Chropov,,hostinec", "lat": 48.773305, "lon": 17.31782, "freq": 16, "radius": 4}, {"name": "Chropov,,kostol", "lat": 48.771229000000005, "lon": 17.3120295, "freq": 16, "radius": 4}, {"name": "Radošovce,,nám.", "lat": 48.772589, "lon": 17.280279, "freq": 41, "radius": 8.2}, {"name": "Radošovce,,zdrav.str.", "lat": 48.76952, "lon": 17.28055, "freq": 18, "radius": 4}, {"name": "Radošovce,,sady", "lat": 48.7720195, "lon": 17.2733095, "freq": 49, "radius": 9.8}, {"name": "Dubovce,,rázc.", "lat": 48.774852, "lon": 17.260727, "freq": 53, "radius": 10.6}, {"name": "Dubovce,,most", "lat": 48.77179, "lon": 17.2540625, "freq": 27, "radius": 5.4}, {"name": "Dubovce,kult.dom", "lat": 48.774615, "lon": 17.244075000000002, "freq": 29, "radius": 5.8}, {"name": "Popudinské Močidľany,kostol", "lat": 48.780726, "lon": 17.223132, "freq": 28, "radius": 5.6}, {"name": "Popudinské Močidľany,OcÚ", "lat": 48.7854, "lon": 17.21988, "freq": 11, "radius": 4}, {"name": "Popudinské Močidľany,,ulička", "lat": 48.7890975, "lon": 17.2160875, "freq": 22, "radius": 4.4}, {"name": "Trnovec,,rázc.", "lat": 48.7969445, "lon": 17.198027, "freq": 39, "radius": 7.8}, {"name": "Prietržka,,zvonica", "lat": 48.80546, "lon": 17.1948175, "freq": 46, "radius": 9.2}, {"name": "Vrádište,,dolný koniec", "lat": 48.81956, "lon": 17.1941075, "freq": 45, "radius": 9.0}, {"name": "Vrádište,,cintorín", "lat": 48.824815, "lon": 17.191055, "freq": 65, "radius": 13.0}, {"name": "Popudinské Močidľany,Mlyn", "lat": 48.7949295, "lon": 17.209229, "freq": 18, "radius": 4}, {"name": "Trnovec,,kostol", "lat": 48.7989265, "lon": 17.1903975, "freq": 14, "radius": 4}, {"name": "Popudinské Močidľany,rázc.", "lat": 48.785005, "lon": 17.21969, "freq": 41, "radius": 8.2}, {"name": "Koválovec, OcÚ", "lat": 48.784145, "lon": 17.303402, "freq": 5, "radius": 4}, {"name": "Koválovec,,rázc.", "lat": 48.780703, "lon": 17.301208000000003, "freq": 5, "radius": 4}, {"name": "Popudinské Močidľany,na kopci", "lat": 48.78648, "lon": 17.22152, "freq": 12, "radius": 4}, {"name": "Popudinské Močidľany,kult.dom", "lat": 48.78464, "lon": 17.219504, "freq": 15, "radius": 4}, {"name": "Radošovce,pož.zbroj.", "lat": 48.76942, "lon": 17.279446, "freq": 24, "radius": 4.8}, {"name": "Dubovce,Kobylany", "lat": 48.780157, "lon": 17.243277, "freq": 35, "radius": 7.0}, {"name": "Častkov,ZŠ", "lat": 48.748819999999995, "lon": 17.352155, "freq": 11, "radius": 4}, {"name": "Častkov,,rázc.", "lat": 48.74603, "lon": 17.341609, "freq": 26, "radius": 5.2}, {"name": "Lopašov,,rázc.", "lat": 48.75074133333334, "lon": 17.326303333333332, "freq": 47, "radius": 9.4}, {"name": "Oreské,hostinec", "lat": 48.744997999999995, "lon": 17.3047, "freq": 17, "radius": 4}, {"name": "Radošovce,Vieska,Mikuš", "lat": 48.751223, "lon": 17.292094, "freq": 15, "radius": 4}, {"name": "Radošovce,Vieska,kult.dom", "lat": 48.763793, "lon": 17.281065, "freq": 17, "radius": 4}, {"name": "Skalica,Priemyselná", "lat": 48.84993, "lon": 17.212261, "freq": 5, "radius": 4}, {"name": "Senica,,AS", "lat": 48.68260166666666, "lon": 17.36574033333333, "freq": 48, "radius": 9.6}, {"name": "Rohov,,rázc.", "lat": 48.73277, "lon": 17.355715, "freq": 40, "radius": 8.0}, {"name": "Častkov,dolný koniec", "lat": 48.745115, "lon": 17.354405, "freq": 9, "radius": 4}, {"name": "Radošovce,,kult. dom", "lat": 48.768837000000005, "lon": 17.28124, "freq": 15, "radius": 4}, {"name": "Unín,,pri potoku", "lat": 48.7248, "lon": 17.214765, "freq": 28, "radius": 5.6}, {"name": "Unín,zdrav.str.", "lat": 48.7277, "lon": 17.21351, "freq": 23, "radius": 4.6}, {"name": "Unín,,Dolinka", "lat": 48.73101, "lon": 17.212115, "freq": 28, "radius": 5.6}, {"name": "Radimov,,ZŠ", "lat": 48.750287, "lon": 17.200195, "freq": 30, "radius": 6.0}, {"name": "Radimov,,kostol", "lat": 48.7521875, "lon": 17.194789999999998, "freq": 30, "radius": 6.0}, {"name": "Radimov,,PD", "lat": 48.755279, "lon": 17.187842, "freq": 12, "radius": 4}, {"name": "Radimov,,rázc.", "lat": 48.759331, "lon": 17.1724215, "freq": 44, "radius": 8.8}, {"name": "Radimov,,Budkovany", "lat": 48.770819, "lon": 17.173957, "freq": 45, "radius": 9.0}, {"name": "Kátov,,MŠ", "lat": 48.830175, "lon": 17.16815, "freq": 31, "radius": 6.2}, {"name": "Štefanov,,obec", "lat": 48.67761, "lon": 17.20016, "freq": 28, "radius": 5.6}, {"name": "Štefanov,,prameň", "lat": 48.68544, "lon": 17.201462499999998, "freq": 27, "radius": 5.4}, {"name": "Štefanov,,Kodreta", "lat": 48.700749, "lon": 17.189448, "freq": 13, "radius": 4}, {"name": "Letničie,,MŠ", "lat": 48.710530000000006, "lon": 17.179180000000002, "freq": 26, "radius": 5.2}, {"name": "Petrova Ves,,kult.dom", "lat": 48.719687500000006, "lon": 17.162062499999998, "freq": 49, "radius": 9.8}, {"name": "Petrova Ves,,družstvo", "lat": 48.725162, "lon": 17.161389, "freq": 40, "radius": 8.0}, {"name": "Petrova Ves,,Majer", "lat": 48.7308075, "lon": 17.1728755, "freq": 14, "radius": 4}, {"name": "Petrova Ves,Majer rázc.", "lat": 48.7348575, "lon": 17.166198, "freq": 19, "radius": 4}, {"name": "Skalica,,čerp.stanica", "lat": 48.834397, "lon": 17.204729999999998, "freq": 28, "radius": 5.6}, {"name": "Senica,,Čáčovská", "lat": 48.679216499999995, "lon": 17.342906, "freq": 2, "radius": 4}, {"name": "Senica,Čáčov,kostol", "lat": 48.6783025, "lon": 17.347846500000003, "freq": 2, "radius": 4}, {"name": "Dojč,,PD", "lat": 48.6830375, "lon": 17.2577025, "freq": 2, "radius": 4}, {"name": "Dojč,,Kolónia", "lat": 48.681495, "lon": 17.243535, "freq": 2, "radius": 4}, {"name": "Štefanov,,rázc.", "lat": 48.66565, "lon": 17.208219, "freq": 1, "radius": 4}, {"name": "Štefanov,,pri kríži", "lat": 48.6711725, "lon": 17.201864999999998, "freq": 14, "radius": 4}, {"name": "Senica,,Hviezdoslavova", "lat": 48.680694, "lon": 17.363291, "freq": 1, "radius": 4}, {"name": "Borský Mikuláš,,Družstevná", "lat": 48.6342215, "lon": 17.2186725, "freq": 9, "radius": 4}, {"name": "Borský Mikuláš,,Chodecká", "lat": 48.6325455, "lon": 17.215143, "freq": 9, "radius": 4}, {"name": "Borský Mikuláš,,kult.dom", "lat": 48.6279805, "lon": 17.214129, "freq": 13, "radius": 4}, {"name": "Borský Mikuláš,,Na Doline", "lat": 48.62742, "lon": 17.20308, "freq": 19, "radius": 4}, {"name": "Borský Mikuláš,,pri moste", "lat": 48.6285995, "lon": 17.197706500000002, "freq": 12, "radius": 4}, {"name": "Šaštín-Stráže,,ZŠ", "lat": 48.6465775, "lon": 17.1433, "freq": 14, "radius": 4}, {"name": "Borský Mikuláš,B. Peter,Lesná", "lat": 48.638322, "lon": 17.2263885, "freq": 3, "radius": 4}, {"name": "Borský Mikuláš,B. Peter,PD", "lat": 48.634394, "lon": 17.227002, "freq": 3, "radius": 4}, {"name": "Borský Mikuláš, rázc.k žel.st.", "lat": 48.6423145, "lon": 17.1953745, "freq": 7, "radius": 4}, {"name": "Gbely,,priehrada", "lat": 48.728631, "lon": 17.144173000000002, "freq": 14, "radius": 4}, {"name": "Kúty,,žel.st.", "lat": 48.66201, "lon": 17.046915, "freq": 14, "radius": 4}, {"name": "Kúty,,Dolina", "lat": 48.66057, "lon": 17.035097, "freq": 8, "radius": 4}, {"name": "Kúty,,Nová", "lat": 48.6600785, "lon": 17.027904, "freq": 10, "radius": 4}, {"name": "Kúty,,OcÚ", "lat": 48.6585985, "lon": 17.021437, "freq": 9, "radius": 4}, {"name": "Kúty,,Kamiža", "lat": 48.663491, "lon": 17.0119775, "freq": 9, "radius": 4}, {"name": "Brodské,,Záhumnie", "lat": 48.6886485, "lon": 17.007042, "freq": 9, "radius": 4}, {"name": "Brodské,,nám.", "lat": 48.6911975, "lon": 17.0108695, "freq": 11, "radius": 4}, {"name": "Brodské,,ZŠ", "lat": 48.69228, "lon": 17.014965, "freq": 11, "radius": 4}, {"name": "Brodské, žel.st.", "lat": 48.6922, "lon": 17.023115, "freq": 10, "radius": 4}, {"name": "Brodské,,horáreň", "lat": 48.69986, "lon": 17.040264999999998, "freq": 10, "radius": 4}, {"name": "Gbely,Adamov", "lat": 48.723505, "lon": 17.042875000000002, "freq": 12, "radius": 4}, {"name": "Kopčany,,Bratislavská", "lat": 48.792397, "lon": 17.129170000000002, "freq": 38, "radius": 7.6}, {"name": "Kopčany,,Moravská", "lat": 48.787233, "lon": 17.1093345, "freq": 29, "radius": 5.8}, {"name": "Kopčany,,OcÚ", "lat": 48.7879145, "lon": 17.116587000000003, "freq": 28, "radius": 5.6}, {"name": "Holíč,,Kátovská", "lat": 48.81962, "lon": 17.1635525, "freq": 5, "radius": 4}, {"name": "Myjava, žel.st.", "lat": 48.76146, "lon": 17.5715, "freq": 2, "radius": 4}, {"name": "Myjava,Jednota", "lat": 48.757582, "lon": 17.571968, "freq": 2, "radius": 4}, {"name": "Myjava,,aut.st.", "lat": 48.75231266666666, "lon": 17.56770933333333, "freq": 6, "radius": 4}, {"name": "Myjava,,bitúnok", "lat": 48.7457395, "lon": 17.558587000000003, "freq": 6, "radius": 4}, {"name": "Myjava,Turá Lúka,Jednota", "lat": 48.745025, "lon": 17.5347515, "freq": 6, "radius": 4}, {"name": "Myjava, Malejov", "lat": 48.7524515, "lon": 17.4983525, "freq": 6, "radius": 4}, {"name": "Podbranč,u Varsíkov", "lat": 48.74389, "lon": 17.46733, "freq": 4, "radius": 4}, {"name": "Podbranč,Horná Dolina", "lat": 48.743577, "lon": 17.448486000000003, "freq": 6, "radius": 4}, {"name": "Podbranč,Majeríčky", "lat": 48.7392535, "lon": 17.436359, "freq": 7, "radius": 4}, {"name": "Podbranč,Kamenné vráta", "lat": 48.73436, "lon": 17.44516, "freq": 3, "radius": 4}, {"name": "Podbranč,u Matúšov", "lat": 48.73555, "lon": 17.45326, "freq": 2, "radius": 4}, {"name": "Podbranč,Podzámok", "lat": 48.73292, "lon": 17.4621, "freq": 1, "radius": 4}, {"name": "Podbranč,Dolná Dolina", "lat": 48.72977, "lon": 17.44682, "freq": 1, "radius": 4}, {"name": "Sobotište,,nám.", "lat": 48.731480000000005, "lon": 17.405397, "freq": 6, "radius": 4}, {"name": "Senica,Kunov,rázc.", "lat": 48.69403, "lon": 17.39806, "freq": 6, "radius": 4}, {"name": "Senica,Poliklinika", "lat": 48.687565, "lon": 17.372272, "freq": 6, "radius": 4}, {"name": "Trnovec,,Záhumnie", "lat": 48.802147000000005, "lon": 17.191203, "freq": 15, "radius": 4}, {"name": "Holíč,,Štúrova", "lat": 48.808319, "lon": 17.168480000000002, "freq": 24, "radius": 4.8}, {"name": "Myjava, Nemocnica", "lat": 48.76233, "lon": 17.56241, "freq": 1, "radius": 4}, {"name": "Trnava,,AS", "lat": 48.369589, "lon": 17.5823185, "freq": 4, "radius": 4}, {"name": "Trnava,,Zelený kríčok", "lat": 48.380705000000006, "lon": 17.580885, "freq": 4, "radius": 4}, {"name": "Trnava,,Trstínska", "lat": 48.388659, "lon": 17.5695265, "freq": 4, "radius": 4}, {"name": "Šelpice,,hostinec", "lat": 48.4325175, "lon": 17.5305025, "freq": 3, "radius": 4}, {"name": "Boleráz,OcÚ", "lat": 48.46191399999999, "lon": 17.497881, "freq": 4, "radius": 4}, {"name": "Bíňovce,OcÚ", "lat": 48.5053755, "lon": 17.4794315, "freq": 4, "radius": 4}, {"name": "Trstín,,OcÚ", "lat": 48.524324500000006, "lon": 17.466445, "freq": 4, "radius": 4}, {"name": "Jablonica,,Trnavská", "lat": 48.6007055, "lon": 17.426270000000002, "freq": 4, "radius": 4}, {"name": "Jablonica,,AS", "lat": 48.60992, "lon": 17.42239, "freq": 4, "radius": 4}, {"name": "Senica,,Vajanského, cintorín", "lat": 48.677835, "lon": 17.368223999999998, "freq": 4, "radius": 4}];
const routeLines = {"205417": {"coords": [[48.849708, 17.211649], [48.850025, 17.218824], [48.846176, 17.223252], [48.84014, 17.21613], [48.828534, 17.189966], [48.820045, 17.158229], [48.813809, 17.15966], [48.807174, 17.162232], [48.80012, 17.156056], [48.789662, 17.12201], [48.78319, 17.111887], [48.769573, 17.090569], [48.728677, 17.050599], [48.723327, 17.091333], [48.720983, 17.10509], [48.718348, 17.11426], [48.718824, 17.119127], [48.717477, 17.122057], [48.70941, 17.12227], [48.678545, 17.131017], [48.67507, 17.12972], [48.67226, 17.127275], [48.65038, 17.129386], [48.648169, 17.135695], [48.647375, 17.142347], [48.640783, 17.143506], [48.63795, 17.144986], [48.63696, 17.15387]], "color": "#e6194b", "name": "Šaštín-Stráže-Gbely-Skalica<", "trips": 19}, "206100": {"coords": [[48.839935, 17.21797], [48.840323, 17.221735], [48.83735, 17.227119], [48.838942, 17.230667], [48.83727, 17.23634], [48.841797, 17.238133], [48.845079, 17.235045], [48.848074, 17.23957], [48.85014, 17.238353], [48.850834, 17.232594], [48.847654, 17.23259], [48.849315, 17.229125], [48.848308, 17.22366], [48.850035, 17.218965], [48.845401, 17.224536], [48.839935, 17.21797]], "color": "#3cb44b", "name": "ZOC MAX - Veľké Trávniky - ZOC MAX>", "trips": 27}, "206150": {"coords": [[48.849972, 17.211939], [48.840323, 17.221735], [48.83735, 17.227119], [48.838942, 17.230667], [48.845079, 17.235045], [48.849315, 17.229125]], "color": "#4363d8", "name": "Priemyselná zóna - Dr.Clementisa - Jednoradová - Priemyselná zóna<", "trips": 6}, "206402": {"coords": [[48.812074, 17.24548], [48.829386, 17.246187], [48.83868, 17.23084], [48.83755, 17.22719], [48.840605, 17.22129], [48.84326, 17.22265], [48.847758, 17.232621], [48.850018, 17.219009]], "color": "#f58231", "name": "Skalica-Mokrý Háj<", "trips": 17}, "206403": {"coords": [[48.850025, 17.218824], [48.849708, 17.211649], [48.845485, 17.224205], [48.84014, 17.21613], [48.82485, 17.19096], [48.8198, 17.19386], [48.80537, 17.19477], [48.796939, 17.198094], [48.794986, 17.209153], [48.789025, 17.216175], [48.78648, 17.22152], [48.78464, 17.219504], [48.780726, 17.223207], [48.77452, 17.24418], [48.7717, 17.254205], [48.774764, 17.260854], [48.772154, 17.272725], [48.76942, 17.279446], [48.77258, 17.28029], [48.78067, 17.30143], [48.784145, 17.303402], [48.771248, 17.312039], [48.773305, 17.31782]], "color": "#911eb4", "name": "Skalica-Radošovce-Chropov<", "trips": 24}, "206404": {"coords": [[48.850025, 17.218824], [48.84558, 17.22407], [48.84014, 17.21613], [48.82485, 17.19096], [48.8198, 17.19386], [48.80537, 17.19477], [48.796939, 17.198094], [48.789025, 17.216175], [48.78648, 17.22152], [48.78464, 17.219504], [48.780726, 17.223207], [48.77452, 17.24418], [48.7717, 17.254205], [48.774764, 17.260854], [48.772154, 17.272725], [48.77258, 17.28029], [48.76952, 17.28055], [48.76379, 17.28102], [48.75106, 17.29218], [48.745, 17.30464], [48.75036, 17.32634], [48.74877, 17.35214], [48.74492, 17.35442], [48.73215, 17.35585], [48.68261, 17.36599]], "color": "#42d4f4", "name": "Skalica-Prietržka-Senica<", "trips": 22}, "206405": {"coords": [[48.7248, 17.21469], [48.7277, 17.213435], [48.73111, 17.21205], [48.750314, 17.20015], [48.752275, 17.19462], [48.755331, 17.187966], [48.759301, 17.172477], [48.770615, 17.17395], [48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.840183, 17.216465], [48.84326, 17.22265], [48.84993, 17.212261], [48.850018, 17.219009]], "color": "#f032e6", "name": "Skalica-Unín<", "trips": 9}, "206406": {"coords": [[48.850025, 17.218824], [48.84558, 17.22407], [48.84014, 17.21613], [48.82485, 17.19096], [48.83018, 17.16806], [48.820045, 17.158229], [48.813809, 17.15966], [48.807174, 17.162232], [48.771023, 17.173964], [48.759361, 17.172366], [48.755227, 17.187718], [48.7521, 17.19496], [48.75026, 17.20024], [48.73091, 17.21218], [48.7277, 17.213585], [48.7248, 17.21484], [48.730747, 17.172951], [48.724999, 17.161213], [48.71963, 17.162], [48.70967, 17.17914], [48.70069, 17.18942], [48.68557, 17.201265], [48.677485, 17.20008]], "color": "#bfef45", "name": "Skalica-Štefanov<", "trips": 8}, "206407": {"coords": [[48.682621, 17.3658], [48.679415, 17.343754], [48.677856, 17.338207], [48.683105, 17.25774], [48.68123, 17.24254], [48.66565, 17.208219], [48.671265, 17.20189], [48.677735, 17.20024], [48.68531, 17.20166], [48.700808, 17.189476], [48.71139, 17.17922], [48.719745, 17.162125], [48.725325, 17.161565], [48.730868, 17.1728], [48.7248, 17.21484], [48.7277, 17.213435], [48.73111, 17.21205], [48.750314, 17.20015], [48.752275, 17.19462], [48.759301, 17.172477], [48.770615, 17.17395], [48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.834042, 17.204189], [48.840183, 17.216465], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#fabed4", "name": "Skalica-Štefanov-Senica<", "trips": 7}, "206408": {"coords": [[48.634255, 17.218706], [48.63254, 17.21514], [48.627795, 17.21351], [48.62742, 17.20308], [48.642489, 17.195305], [48.671265, 17.20189], [48.677735, 17.20024], [48.68531, 17.20166], [48.71139, 17.17922], [48.719745, 17.162125], [48.725325, 17.161565], [48.730868, 17.1728], [48.7248, 17.21484], [48.7277, 17.213435], [48.73111, 17.21205], [48.750314, 17.20015], [48.752275, 17.19462], [48.759301, 17.172477], [48.770615, 17.17395], [48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82478, 17.19115], [48.840183, 17.216465], [48.84326, 17.22265], [48.849708, 17.211649], [48.850018, 17.219009]], "color": "#469990", "name": "Skalica-Šaštín-Stráže-Borský Mikuláš<", "trips": 17}, "206410": {"coords": [[48.850025, 17.218824], [48.845915, 17.223703], [48.84014, 17.21613], [48.828534, 17.189966], [48.820045, 17.158229], [48.813809, 17.15966], [48.807174, 17.162232], [48.771023, 17.173964], [48.7521, 17.19496], [48.75026, 17.20024], [48.73091, 17.21218], [48.7277, 17.213585], [48.7248, 17.21484], [48.730747, 17.172951], [48.724999, 17.161213], [48.71963, 17.162], [48.728691, 17.144862], [48.717477, 17.122057], [48.718824, 17.119127], [48.718348, 17.11426], [48.720983, 17.10509], [48.723327, 17.091333]], "color": "#dcbeff", "name": "Skalica-Holíč-Gbely<", "trips": 14}, "206412": {"coords": [[48.66201, 17.046915], [48.660643, 17.034533], [48.660113, 17.027391], [48.658436, 17.020964], [48.663125, 17.012355], [48.688824, 17.007611], [48.691229, 17.010966], [48.69228, 17.01489], [48.6922, 17.02304], [48.69986, 17.04019], [48.72369, 17.04327], [48.769541, 17.090757], [48.783201, 17.11215], [48.78986, 17.122766], [48.79244, 17.129294], [48.8004, 17.15432], [48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.840183, 17.216465], [48.84326, 17.22265], [48.849708, 17.211649], [48.850018, 17.219009]], "color": "#9A6324", "name": "Skalica-Brodské-Kúty<", "trips": 12}, "206413": {"coords": [[48.850025, 17.218824], [48.849708, 17.211649], [48.8463, 17.223199], [48.84014, 17.21613], [48.834752, 17.205271], [48.828534, 17.189966], [48.83018, 17.16806], [48.820045, 17.158229], [48.813809, 17.15966], [48.807174, 17.162232], [48.80012, 17.156056], [48.792354, 17.129046], [48.789662, 17.12201], [48.787934, 17.116699], [48.787255, 17.109315]], "color": "#800000", "name": "Skalica-Kopčany<", "trips": 25}, "206414": {"coords": [[48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82478, 17.19115], [48.834042, 17.204189], [48.840183, 17.216465], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#aaffc3", "name": "Skalica-Holíč<", "trips": 13}, "206416": {"coords": [[48.682621, 17.3658], [48.73339, 17.35558], [48.74657, 17.34069], [48.75087, 17.32644], [48.768835, 17.28125], [48.77258, 17.28029], [48.812074, 17.24548], [48.829386, 17.246187], [48.83868, 17.23084], [48.83755, 17.22719], [48.840605, 17.22129], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#808000", "name": "Skalica-Mokrý Háj-Senica<", "trips": 3}, "206417": {"coords": [[48.76146, 17.5715], [48.757582, 17.571968], [48.7525, 17.56774], [48.74582, 17.559135], [48.74506, 17.5349], [48.752263, 17.497328], [48.74389, 17.46733], [48.743577, 17.448411], [48.73929, 17.43631], [48.73436, 17.44516], [48.73555, 17.45326], [48.73292, 17.4621], [48.73555, 17.45326], [48.73436, 17.44516], [48.72977, 17.44682], [48.73436, 17.44516], [48.739217, 17.436408], [48.73149, 17.40519], [48.69408, 17.39796], [48.68761, 17.37212], [48.682621, 17.3658], [48.73339, 17.35558], [48.74657, 17.34069], [48.75087, 17.32644], [48.768835, 17.28125], [48.771885, 17.273894], [48.780244, 17.243024], [48.78514, 17.21907], [48.80234, 17.19096], [48.808234, 17.16882], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.840183, 17.216465], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#000075", "name": "Skalica-Holíč-Senica-Myjava-Stará Turá<", "trips": 6}, "206418": {"coords": [[48.369164, 17.581856], [48.38092, 17.58169], [48.38821, 17.57024], [48.432435, 17.530815], [48.4618, 17.498175], [48.50572, 17.47932], [48.52463, 17.46622], [48.600858, 17.42614], [48.60992, 17.42239], [48.677835, 17.368149], [48.682621, 17.3658], [48.73339, 17.35558], [48.74657, 17.34069], [48.75087, 17.32644], [48.768835, 17.28125], [48.77494, 17.2606], [48.780244, 17.243024], [48.78514, 17.21907], [48.80234, 17.19096], [48.808234, 17.16882], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.840183, 17.216465], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#a9a9a9", "name": "Skalica-Holíč-Senica-Trnava<", "trips": 4}, "206419": {"coords": [[48.787255, 17.109315], [48.787934, 17.116699], [48.789662, 17.12201], [48.792354, 17.129046], [48.807174, 17.162232], [48.808404, 17.16814], [48.798913, 17.190435], [48.78487, 17.22031], [48.78007, 17.24353], [48.774764, 17.260854], [48.772154, 17.272725], [48.76942, 17.279446], [48.750994, 17.32613], [48.74549, 17.342528], [48.73215, 17.35585], [48.68261, 17.36599]], "color": "#e6beff", "name": "Kopčany-Holíč-Senica<", "trips": 4}, "206420": {"coords": [[48.850025, 17.218824], [48.845485, 17.224205], [48.84014, 17.21613], [48.82485, 17.19096], [48.83018, 17.16806], [48.820045, 17.158229], [48.813809, 17.15966], [48.808404, 17.16814], [48.798913, 17.190435], [48.796939, 17.198094], [48.78464, 17.219504], [48.780726, 17.223207], [48.77452, 17.24418], [48.7717, 17.254205], [48.772154, 17.272725], [48.77258, 17.28029], [48.76952, 17.28055], [48.76379, 17.28102], [48.75106, 17.29218], [48.745, 17.30464], [48.75036, 17.32634], [48.74549, 17.342528], [48.73215, 17.35585], [48.68261, 17.36599]], "color": "#fffac8", "name": "Skalica-Holíč-Senica<", "trips": 10}, "206421": {"coords": [[48.66201, 17.046915], [48.646955, 17.14341], [48.63802, 17.144975], [48.63696, 17.15387], [48.628616, 17.197741], [48.62742, 17.20308], [48.671265, 17.20189], [48.677735, 17.20024], [48.68531, 17.20166], [48.71139, 17.17922], [48.719745, 17.162125], [48.725325, 17.161565], [48.7248, 17.21484], [48.73111, 17.21205], [48.750314, 17.20015], [48.752275, 17.19462], [48.759301, 17.172477], [48.806185, 17.162345], [48.815505, 17.15588], [48.820955, 17.15981], [48.82816, 17.18901], [48.840183, 17.216465], [48.84326, 17.22265], [48.850018, 17.219009]], "color": "#ffd8b1", "name": "Skalica-Šaštín-Stráže-Borský Mikuláš-Kúty<", "trips": 6}};
const hourlyData = [{"hour": 4, "count": 12}, {"hour": 5, "count": 20}, {"hour": 6, "count": 30}, {"hour": 7, "count": 20}, {"hour": 8, "count": 11}, {"hour": 9, "count": 12}, {"hour": 10, "count": 4}, {"hour": 11, "count": 11}, {"hour": 12, "count": 17}, {"hour": 13, "count": 15}, {"hour": 14, "count": 29}, {"hour": 15, "count": 17}, {"hour": 16, "count": 16}, {"hour": 17, "count": 9}, {"hour": 18, "count": 7}, {"hour": 19, "count": 5}, {"hour": 20, "count": 8}, {"hour": 21, "count": 2}, {"hour": 22, "count": 8}, {"hour": 23, "count": 0}];

// ── HOURLY CHART ──
(function() {
  const c = document.getElementById('hourlyChart');
  const max = Math.max(...hourlyData.map(d => d.count));
  hourlyData.forEach(d => {
    if (d.count === 0) return;
    const bar = document.createElement('div');
    bar.className = 'bar';
    bar.style.height = (d.count / max * 100) + '%';
    bar.style.flex = '1';
    bar.innerHTML = `<span class="bar-label">${d.hour}h</span><span class="bar-value">${d.count}</span>`;
    c.appendChild(bar);
  });
})();

// ── MAP ──
(function() {
  const map = L.map('map').setView([48.78, 17.22], 10);
  L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
    attribution: '&copy; OpenStreetMap &copy; CARTO', maxZoom: 18
  }).addTo(map);

  const routeLayers = {};
  const legend = document.getElementById('routeLegend');
  Object.entries(routeLines).forEach(([name, data]) => {
    const layer = L.polyline(data.coords, {
      color: data.color, weight: 3, opacity: 0.8
    }).bindPopup(`<b>${name}</b><br>${data.name}<br>${data.trips} spojov/deň`);
    layer.addTo(map);
    routeLayers[name] = layer;
    const chip = document.createElement('span');
    chip.className = 'chip';
    chip.style.background = data.color;
    chip.textContent = name;
    chip.onclick = () => {
      if (map.hasLayer(layer)) { map.removeLayer(layer); chip.style.opacity = 0.3; }
      else { layer.addTo(map); chip.style.opacity = 0.9; }
    };
    legend.appendChild(chip);
  });

  mapStations.forEach(s => {
    L.circleMarker([s.lat, s.lon], {
      radius: s.radius, fillColor: '#58a6ff', color: '#1f6feb',
      weight: 1, fillOpacity: 0.7
    }).bindPopup(`<b>${s.name}</b><br>${s.freq} zastavení/deň`).addTo(map);
  });
})();
</script>
</body>
</html>